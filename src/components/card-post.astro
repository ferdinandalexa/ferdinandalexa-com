---
const { title, date, url } = Astro.props;
---

<script>
  import getTimeAgo from "../utils/getTimeAgo.js";

  const cards = document.querySelectorAll("[data-time]");
  for (const cardPost of cards) {
    const date = cardPost.dataset.time;
    const timeago = getTimeAgo(new Date(date));
    console.log(timeago);
    cardPost.innerHTML = timeago;
  }
</script>

<style>
  a {
    border-radius: 0.5rem;
    border: 1px solid rgba(0, 47, 108, 0.03);
    box-shadow: 0 10px 10px -5px rgb(0 47 108 / 4%);
    display: flex;
    flex-direction: column;
    gap: 1rem;
    justify-content: end;
    min-height: 100px;
    padding: 1rem;
    transition: var(--transform-transition);
    width: 100%;
  }

  a h3 {
    color: var(--blue-500);
    font-size: var(--fs-large);
    font-weight: var(--fw-bold);
  }

  a time {
    color: var(--blue-500);
    font-size: var(--fs-base);
    font-weight: var(--fw-regular);
    /* text-transform: capitalize; */
  }

  :global(body.dark) a h3,
  :global(body.dark) a time {
    color: var(--blue-50);
  }

  a:hover {
    opacity: unset;
    transform: scale(0.99);
  }

  a:hover h3 {
    color: var(--blue-300);
  }

  :global(body.dark) a:hover h3 {
    color: var(--blue-200);
  }
</style>

<a href={url} class="card">
  <h3>{title}</h3>
  <div>
    <time datetime={date} data-time={date}>{}</time>
  </div>
</a>
