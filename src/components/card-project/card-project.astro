---
import "./card-project.css";

import Image from "../image.astro";
import { getPatternFromPathname } from "../../utils/getPatternFromPathname.js";

import { t } from "../../locales.json";

const { pathname } = Astro.url;
const { locale = "es" } = getPatternFromPathname({ pathname });

const { title, type, description, url, cover: image } = Astro.props;
---

<article class="card-project">
  <a href={url}>
    <Image
      src={`projects/${image}/${image}-cover`}
      alt={`${t[locale].components.cardProject.altImage} ${title}`}
      className="card-project__cover"
      width="500"
      loading="eager"
      maxWidth={536}
    />
  </a>
  <div class="card-project__info">
    <strong class="card-project__type">{type}</strong>
    <h3 class="card-project__title">
      <a href={url}>{title}</a>
    </h3>
    <p class="card-project__description">{description}</p>
    <a href={url} class="button inline"
      >{t[locale].components.cardProject.cta}</a
    >
  </div>
</article>
