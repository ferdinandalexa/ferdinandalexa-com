---
import readingTime from 'reading-time';
import BaseLayout from '../layouts/base-layout.astro';

const { content: { title, date, description, astro: { source } }} = Astro.props;

const minutes = Math.round(readingTime(source).minutes);

const datePublish = new Date(date)
  .toLocaleDateString('es', { 
    "year": "numeric", 
    "month": "long", 
    "day": "numeric",
  });
---

<style is:inline>
  main h1{
    font: var(--heading-large);
    margin-top: 1.25rem;
  }
  
  main h2{
    font: var(--heading-medium);
    margin-top: 1.5rem;
  }

  main h3{
    font: var(--heading-base);
    margin-top: 1.75rem;
  }

  main p{
    color: var(--c-text);
    font: var(--body-medium);
    line-height: 1.5;
    margin: .75rem 0;
  }

  main a{
    color: var(--c-anchor);
  }

  main ul, 
  main ol, 
  main li{
    color: var(--c-text);
    font: var(--body-medium);
    list-style: unset;
    margin-left: 1rem;
  }

  main pre{
    padding: 1rem 1.25rem;
    width: 100%;
    max-width: 90vw;
    margin-left: -.1rem;
    border-radius: .5rem;
  }

  main pre code{
    font: var(--action-base);
    letter-spacing: .05ch;
    margin: 0;
    overflow-x: auto;
  }

  main p code{
    color: var(--c-inline-code);
    background-color: var(--c-inline-code-bg);
    font: var(--action-small);
    border-radius: .25rem;
    padding: .75ch;
  }
</style>

<style>
  h1{
    margin-bottom: .5rem;
  }

  time,
  span{
    color: var(--c-text);
    font: var(--caption);
  }

  time::after{
    content: '\00B7';
    margin: 0 .45rem;
    opacity: .5;
  }
</style>

<BaseLayout title={ `${title} | ferdinandalexa` } description={ description }>
  <main>
    <header>
      <h1>{title}</h1>
      <time datetime="2011-11-18">{ datePublish }</time><span>{minutes} min de lectura</span>
    </header>
    <slot/>
  </main>
</BaseLayout>
