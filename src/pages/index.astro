---
import BaseLayout from "../layouts/base-layout.astro";
import CardPost from "../components/card-post/card-post.astro";
import Hero from "../components/hero/hero.astro";

let allPosts = await Astro.glob("./blog/*.md");
---

<style>
  h2 {
    margin-bottom: 0.75rem;
    color: var(--blue-300);
    font-size: var(--fs-3xlarge);
    font-weight: var(--fw-bold);
  }

  :global(body.dark) h2 {
    color: var(--blue-100);
  }

  div {
    display: flex;
    flex-direction: column;
    gap: 2.25rem;
  }
</style>

<BaseLayout title="Inicio | ferdinandalexa">
  <main>
    <Hero />
    <h2>Art√≠culos recientes</h2>
    <div>
      {
        allPosts
          .slice(0, 3)
          .filter((post) => !post.frontmatter.draft)
          .map((post) => (
            <CardPost
              title={post.frontmatter.title}
              description={post.frontmatter.description}
              date={post.frontmatter.date}
              url={post.url}
            />
          ))
      }
    </div>
  </main>
</BaseLayout>
