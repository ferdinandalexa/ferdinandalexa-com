---
import BaseLayout from "../../layouts/base-layout.astro";
import CardPost from "../../components/card-post/card-post.astro";

let allPosts = await Astro.glob("./*.md");
---

<style>
  h2 {
    margin-bottom: 0.75rem;
    color: var(--blue-300);
    font-size: var(--fs-xlarge);
    font-weight: var(--fw-bold);
  }

  :global(body.dark) h2 {
    color: var(--blue-100);
  }

  div {
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }
</style>

<BaseLayout title="Blog | ferdinandalexa">
  <main>
    <h2>Blog</h2>
    <div>
      {
        allPosts
          .slice(0, 3)
          .filter((post) => !post.frontmatter.draft)
          .map((post) => (
            <CardPost
              title={post.frontmatter.title}
              date={post.frontmatter.date}
              url={post.url}
            />
          ))
      }
    </div>
  </main>
</BaseLayout>
